<script>
/* ğŸŸ¢ Home ë°ì´í„° (ì˜ˆì‹œ) */
const homeData = {
  months: []
};

// 2024-01 ~ 2027-01
for(let y=2024; y<=2027; y++){
  for(let m=1; m<=12; m++){
    if(y===2027 && m>1) break;
    homeData.months.push({
      year:y,
      month:m,
      display:`${y}ë…„ ${m}ì›”`,
      cards:[{title:`ì˜ˆì‹œ ì¹´ë“œ ${y}-${m}`, thumb:"https://img.youtube.com/vi/dQw4w9WgXcQ/0.jpg"}]
    });
  }
}

let currentIndex = 0;

function renderHome(){
  section.innerHTML="";

  // ë‹¬ë ¥ ìƒë‹¨
  let calDiv = document.createElement('div');
  calDiv.style.display="flex";
  calDiv.style.justifyContent="center";
  calDiv.style.alignItems="center";
  calDiv.style.marginBottom="15px";
  calDiv.style.gap="10px";

  let prevBtn = document.createElement('button');
  prevBtn.textContent="<";
  prevBtn.onclick=()=>{if(currentIndex>0){currentIndex--; renderHome();}};

  let nextBtn = document.createElement('button');
  nextBtn.textContent=">";
  nextBtn.onclick=()=>{if(currentIndex<homeData.months.length-1){currentIndex++; renderHome();}};

  let monthSpan = document.createElement('span');
  monthSpan.style.color="#e60000";
  monthSpan.style.fontWeight="bold";
  monthSpan.textContent=homeData.months[currentIndex].display;

  calDiv.appendChild(prevBtn);
  calDiv.appendChild(monthSpan);
  calDiv.appendChild(nextBtn);

  section.appendChild(calDiv);

  // ì¹´ë“œ ì˜ì—­
  let cardsDiv = document.createElement('div');
  homeData.months[currentIndex].cards.forEach(c=>{
    let card = document.createElement('div');
    card.className="year-card";
    card.innerHTML=`<strong>${c.title}</strong><br><img src="${c.thumb}" style="width:100%; margin-top:5px; border-radius:4px;">`;
    cardsDiv.appendChild(card);
  });
  section.appendChild(cardsDiv);
}

/* ğŸŸ¢ í˜ì´ì§€ ì „í™˜ */
function showPage(page){
  section.innerHTML="";
  if(page==="chemistry") renderChemistry();
  else if(page==="home") renderHome();
}

// ì´ˆê¸° ë¡œë”©
showPage('chemistry');
</script>  // ë‹¬ë ¥ ìƒë‹¨
  let calDiv = document.createElement('div');
  calDiv.className="calendar";
  let prevBtn = document.createElement('button'); prevBtn.textContent="<";
  let nextBtn = document.createElement('button'); nextBtn.textContent=">";
  let monthSpan = document.createElement('span');
  monthSpan.textContent=data.years[currentIndex].display;
  prevBtn.onclick=()=>{if(currentIndex>0){currentIndex--; monthSpan.textContent=data.years[currentIndex].display; renderMonth();}};
  nextBtn.onclick=()=>{if(currentIndex<data.years.length-1){currentIndex++; monthSpan.textContent=data.years[currentIndex].display; renderMonth();}};
  calDiv.appendChild(prevBtn); calDiv.appendChild(monthSpan); calDiv.appendChild(nextBtn);
  section.appendChild(calDiv);

  // ë‹¬ë³„ ì¹´ë“œ ì˜ì—­
  let cardsDiv = document.createElement('div');
  cardsDiv.id="month-cards";
  section.appendChild(cardsDiv);
  renderMonth();
}

function renderMonth(){
  const cardsDiv = document.getElementById('month-cards');
  cardsDiv.innerHTML="";
  let y = data.years[currentIndex];
  let card = document.createElement('div');
  card.className="year-card";
  card.innerHTML=`<strong>${y.display}</strong><br><img src="${y.thumb}" style="width:100%; border-radius:4px;">`;
  cardsDiv.appendChild(card);
}

/* ğŸŸ¢ Chemistry í™”ë©´ */
function renderChemistry(){
  let grid = document.createElement('div');
  grid.className="member-grid";
  data.chemistry[0].members.forEach(m=>{
    let card = document.createElement('div');
    card.className="member-card";
    card.innerHTML=`<img src="${m.img}"><div>${m.name}</div>`;
    card.onclick=()=>{renderChemistryDetail(m)};
    grid.appendChild(card);
  });
  section.appendChild(grid);
}

/* ğŸŸ¢ Chemistry ìƒì„¸ */
function renderChemistryDetail(member){
  section.innerHTML="";
  let titleDiv = document.createElement('div');
  titleDiv.style.marginBottom="15px";
  titleDiv.innerHTML=`<h2 style="margin:0;">${member.name} Ã— Sopia</h2>`;
  section.appendChild(titleDiv);

  // ëŒ€í‘œ ì´ë¯¸ì§€ ì›ë³¸ ë¹„ìœ¨ ìœ ì§€
  let imgDiv = document.createElement('div');
  imgDiv.style.marginBottom="15px";
  imgDiv.innerHTML=`<img src="${member.mainImg}" style="max-width:100%; height:auto; border-radius:8px;">`;
  section.appendChild(imgDiv);

  let detailDiv = document.createElement('div');
  member.chemistryWithSopia.forEach(cl=>{
    let clip = document.createElement('div');
    clip.className="chem-clip";
    clip.innerHTML=`
      <img src="${cl.thumb}">
      <div><strong>${cl.title}</strong><br>${cl.date}<br>íƒœê·¸: ${cl.tags.join(", ")}</div>
    `;
    clip.onclick=()=>{window.open(cl.link,"_blank")};
    detailDiv.appendChild(clip);
  });
  section.appendChild(detailDiv);
}

// ì´ˆê¸° ë¡œë”© í™ˆ í™”ë©´
showPage('home');
</script>

</body>
</html>
